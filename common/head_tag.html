<script type="text/discourse-plugin" version="0.8.7">

    /*
    Outlet list:
    https://github.com/Mittineague/discourse-plugin-outlet-locations/tree/master/assets/javascripts/discourse/templates/connectors
    */

    api.registerConnectorClass('user-card-post-names', 'user-card-customization', {
        setupComponent(args, component) {
            console.log(args);
            //console.log(component);

            /*
            $ajax('/u/'+args.user.username+'.json').then((data) => {                   
                console.log('got user info:');
                console.log(data);                        
            }).catch(e){
                console.log(e);
            };
            */

            component.set("additionalTitle", "XXX");
        }
    });

    api.modifyClass('model:user', {
        isEmployee: ((args)=>{
            console.log('model:user isEmployee');
            console.log(args);
            return Ember.Object.create({ "<div>OBJ</div>", name: "obj name" });
        })
    });
</script>


<script type='text/x-handlebars' data-template-name='/connectors/user-card-post-names/user-card-customization'>
    {{#if isEmployee}}
        <div>{{additionalTitle}}</div>
    {{/if}}
</script>
